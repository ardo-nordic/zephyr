common:
  tags:
    - bluetooth
  platform_allow:
    - nrf52_bsim/native
  harness: bsim
  timeout: 120
  harness_config:
    bsim_verbosity: 2
    bsim_sim_length: 60e6
    bsim_options:
      - -RealEncryption=1

tests:
  bluetooth.host.att.eatt.build_autoconnect:
    build_only: true
    harness_config:
      bsim_exe_name: tests_bsim_bluetooth_host_att_eatt_prj_autoconnect_conf
    extra_args:
      EXTRA_CONF_FILE=prj_autoconnect.conf

  bluetooth.host.att.eatt.build_lowres:
    build_only: true
    harness_config:
      bsim_exe_name: tests_bsim_bluetooth_host_att_eatt_prj_lowres_conf
    extra_args:
      EXTRA_CONF_FILE=prj_lowres.conf

  bluetooth.host.att.eatt.autoconnect:
    no_build: true
    harness_config:
      bsim_devices:
        - test_id: central_autoconnect
          exe: tests_bsim_bluetooth_host_att_eatt_prj_autoconnect_conf
        - test_id: peripheral_autoconnect
          exe: tests_bsim_bluetooth_host_att_eatt_prj_autoconnect_conf

  bluetooth.host.att.eatt.reconfigure:
    no_build: true
    harness_config:
      bsim_devices:
        - test_id: central_reconfigure
          exe: tests_bsim_bluetooth_host_att_eatt_prj_autoconnect_conf
        - test_id: peripheral_reconfigure
          exe: tests_bsim_bluetooth_host_att_eatt_prj_autoconnect_conf

  bluetooth.host.adt.eatt.collision:
    harness_config:
      bsim_exe_name: tests_bsim_bluetooth_host_att_eatt_prj_collision_conf
      bsim_devices:
        - test_id: central
        - test_id: peripheral

  bluetooth.host.att.eatt.lowres:
    no_build: true
    harness_config:
      bsim_devices:
        - test_id: central_lowres
          exe: tests_bsim_bluetooth_host_att_eatt_prj_autoconnect_conf
        - test_id: peripheral_lowres
          exe: tests_bsim_bluetooth_host_att_eatt_prj_lowres_conf

  bluetooth.host.att.eatt.multiple_conn:
    harness_config:
      bsim_exe_name: tests_bsim_bluetooth_host_att_eatt_prj_multiple_conn_conf
      bsim_devices:
        - test_id: central
        - test_id: peripheral
    extra_args:
      EXTRA_CONF_FILE=prj_multiple_conn.conf
